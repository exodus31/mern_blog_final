{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sarth\\\\OneDrive\\\\Desktop\\\\WebDev\\\\mern_blog_final\\\\frontend\\\\src\\\\Components\\\\MyBlogs.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MyBlogs() {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [data2, setData2] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    (async () => {\n      axios.get(\"http://localhost:5000/user/get\", {\n        headers: {\n          token: localStorage.getItem(\"token\")\n        }\n      }).then(res => {\n        console.log(res.data.blogs);\n        setData(res.data);\n        setLoading(false);\n      }).catch(err => console.log(err));\n    })();\n  }, []);\n  useEffect(() => {\n    (async () => {\n      axios.get(\"http://localhost:5000/blog\").then(res => {\n        console.log(res.data.blogs);\n        setData2(res.data.blogs);\n      }).catch(err => console.log(err));\n    })();\n  }, []);\n\n  const handleDel = (id, e) => {\n    e.preventDefault();\n    axios.delete(\"http://localhost:5000/blog/\" + id).then(res => {\n      console.log(res.data);\n      window.location.href = \"/blogx\";\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        align: \"center\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 8\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Name - \", data.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Email - \", data.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mt-4\",\n        children: data2.map(blog => {\n          if (blog.user == data.userid) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card card1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-horizontal\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"img-square-wrapper\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: \"img-card\",\n                      src: blog.image,\n                      alt: \"Card image cap\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 64,\n                      columnNumber: 35\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 63,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card-body\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"card-title\",\n                      children: blog.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 67,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"card-text\",\n                      children: blog.desc\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 68,\n                      columnNumber: 35\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 66,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-footer\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-danger\",\n                    style: {\n                      marginRight: \"15px\"\n                    },\n                    onClick: e => handleDel(blog._id, e),\n                    children: \"DELETE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: {\n                      pathname: `update/` + blog._id,\n                      state: {\n                        blogid: blog._id\n                      }\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-danger\",\n                      children: \"EDIT\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 77,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 23\n              }, this)]\n            }, blog._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 21\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MyBlogs, \"TIQgHGFemp6+6oiRB+5VHFuVDkk=\");\n\n_c = MyBlogs;\nexport default MyBlogs;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyBlogs\");","map":{"version":3,"names":["React","useEffect","useState","axios","Link","MyBlogs","data","setData","data2","setData2","loading","setLoading","get","headers","token","localStorage","getItem","then","res","console","log","blogs","catch","err","handleDel","id","e","preventDefault","delete","window","location","href","name","email","map","blog","user","userid","image","title","desc","marginRight","_id","pathname","state","blogid"],"sources":["C:/Users/sarth/OneDrive/Desktop/WebDev/mern_blog_final/frontend/src/Components/MyBlogs.js"],"sourcesContent":["import React from 'react'\r\nimport {useEffect, useState} from 'react'\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nfunction MyBlogs() {\r\n    \r\n    const [data, setData] = useState([])\r\n    const [data2, setData2] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n      ( async () => {\r\n        axios.get(\"http://localhost:5000/user/get\", {\r\n          headers: { token: localStorage.getItem(\"token\") },\r\n        })\r\n        .then((res) => {\r\n          console.log(res.data.blogs)                    \r\n          setData(res.data)         \r\n          setLoading(false)           \r\n        }).catch((err) => console.log(err))\r\n      })();\r\n    },[])\r\n\r\n    useEffect(() => {\r\n      ( async () => {\r\n        axios.get(\"http://localhost:5000/blog\")\r\n        .then((res) => {\r\n          console.log(res.data.blogs)\r\n          setData2(res.data.blogs)                        \r\n        }).catch((err) => console.log(err))\r\n      })();\r\n    },[])\r\n    const handleDel = (id, e) => {\r\n      e.preventDefault();\r\n  \r\n      axios.delete(\"http://localhost:5000/blog/\"+id)    \r\n      .then((res) => {\r\n        console.log(res.data)\r\n        window.location.href=\"/blogx\"\r\n      })\r\n    }\r\n\r\n  return (\r\n    <div>\r\n    {loading ? (\r\n       <div className='mt-4'>\r\n          <h2 align=\"center\">Loading...</h2>\r\n        </div>\r\n        ):(\r\n          <div className='container mt-4'>\r\n          <h3>Name - {data.name}</h3>\r\n          <h3>Email - {data.email}</h3>\r\n          <div className=\"container mt-4\">\r\n              {\r\n                data2.map((blog) => {\r\n                  if(blog.user == data.userid){\r\n                  return (\r\n                    <div key={blog._id}>\r\n                      <div className=\"card card1\">\r\n                          <div className=\"card-horizontal\">\r\n                              <div className=\"img-square-wrapper\">\r\n                                  <img className=\"img-card\" src={blog.image} alt=\"Card image cap\" />\r\n                              </div>\r\n                              <div className=\"card-body\">\r\n                                  <h4 className=\"card-title\">{blog.title}</h4>\r\n                                  <p className=\"card-text\">{blog.desc}</p>\r\n                              </div>\r\n                          </div>\r\n                          <div className=\"card-footer\">                      \r\n                            <button className=\"btn btn-danger\" style={{marginRight:\"15px\"}} onClick={(e) => handleDel(blog._id, e)}>DELETE</button>      \r\n                            <Link to={{\r\n                              pathname:`update/`+blog._id,\r\n                              state:{ blogid:blog._id}\r\n                            }}>\r\n                              <button className=\"btn btn-danger\" >EDIT</button>\r\n                            </Link>                                                          \r\n                          </div>\r\n                      </div>\r\n                      <br/>                                                         \r\n                    </div>\r\n                  )\r\n                  }\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n        )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyBlogs\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}