{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sarth\\\\OneDrive\\\\Desktop\\\\WebDev\\\\mern_blog_final\\\\frontend\\\\src\\\\Components\\\\Blogs.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Blogs() {\n  _s();\n\n  const [user, setUser] = useState([]);\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    (async () => {\n      axios.get(\"http://localhost:5000/user/get\", {\n        headers: {\n          token: localStorage.getItem(\"token\")\n        }\n      }).then(res => {\n        console.log(res.data);\n        setUser(res.data);\n      }).catch(err => console.log(err));\n    })();\n  }, []);\n  useEffect(() => {\n    (async () => {\n      axios.get(\"http://localhost:5000/blog\").then(res => {\n        console.log(res.data.blogs);\n        setData(res.data.blogs);\n        setLoading(false);\n      }).catch(err => console.log(err));\n    })();\n  }, []);\n\n  const handleDel = (id, e) => {\n    e.preventDefault();\n    axios.delete(\"http://localhost:5000/blog/\" + id).then(res => {\n      console.log(res.data);\n      window.location.href = \"/blog\";\n    });\n  };\n\n  const handleupd = (id, e) => {\n    e.preventDefault();\n    window.location.href = `blog/update/` + id;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        align: \"center\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mt-4\",\n        children: data.map(data => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card card1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-horizontal\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"img-square-wrapper\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"img-card\",\n                    src: data.image,\n                    alt: \"Card image cap\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 66,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"card-text\",\n                    children: data.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text\",\n                    children: data.desc\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 70,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-footer\",\n                children: user.userid == data.user ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-danger\",\n                    style: {\n                      marginRight: \"20px\"\n                    },\n                    onClick: e => handleDel(data._id, e),\n                    children: \"DELETE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: {\n                      pathname: `update/` + data._id,\n                      state: {\n                        blogid: data._id\n                      }\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-danger\",\n                      children: \"EDIT\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 82,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: [\"Posted By - \", data.username]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 28\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 19\n            }, this)]\n          }, data._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Blogs, \"YhEn24QGik9xotpik9xW0/12ebs=\");\n\n_c = Blogs;\nexport default Blogs;\n\nvar _c;\n\n$RefreshReg$(_c, \"Blogs\");","map":{"version":3,"names":["axios","React","useState","useEffect","Link","Blogs","user","setUser","data","setData","loading","setLoading","get","headers","token","localStorage","getItem","then","res","console","log","catch","err","blogs","handleDel","id","e","preventDefault","delete","window","location","href","handleupd","map","image","title","desc","userid","marginRight","_id","pathname","state","blogid","username"],"sources":["C:/Users/sarth/OneDrive/Desktop/WebDev/mern_blog_final/frontend/src/Components/Blogs.js"],"sourcesContent":["import axios from 'axios'\r\nimport React from 'react'\r\nimport {useState, useEffect} from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nfunction Blogs() {\r\n\r\n  const [user, setUser] = useState([])\r\n  const [data,setData] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    ( async () => {\r\n      axios.get(\"http://localhost:5000/user/get\", {\r\n        headers: { token: localStorage.getItem(\"token\") },\r\n      })\r\n      .then((res) => {\r\n        console.log(res.data)                    \r\n        setUser(res.data)                    \r\n      }).catch((err) => console.log(err))\r\n    })();\r\n  },[])\r\n\r\n  useEffect(() => {\r\n    ( async () => {\r\n      axios.get(\"http://localhost:5000/blog\")\r\n      .then((res) => {\r\n        console.log(res.data.blogs)\r\n        setData(res.data.blogs)\r\n        setLoading(false)\r\n      }).catch((err) => console.log(err))\r\n    })();\r\n  },[])\r\n  \r\n  const handleDel = (id, e) => {\r\n    e.preventDefault();\r\n\r\n    axios.delete(\"http://localhost:5000/blog/\"+id)    \r\n    .then((res) => {\r\n      console.log(res.data)\r\n      window.location.href=\"/blog\"\r\n    })\r\n  }\r\n\r\n  const handleupd = (id, e) => {\r\n    e.preventDefault();\r\n    window.location.href=`blog/update/`+id    \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {loading ? (\r\n        <div className='mt-4'>\r\n          <h2 align=\"center\">Loading...</h2>\r\n        </div>\r\n      ):(\r\n      <>\r\n        <div className=\"container mt-4\">\r\n          {\r\n            data.map((data) =>{\r\n              return (\r\n                <div key={data._id}>\r\n                  <div className=\"card card1\">\r\n                      <div className=\"card-horizontal\">\r\n                          <div className=\"img-square-wrapper\">\r\n                              <img className=\"img-card\" src={data.image} alt=\"Card image cap\" />\r\n                          </div>\r\n                          <div className=\"card-body\">\r\n                              <h4 className=\"card-text\">{data.title}</h4>\r\n                              <p className=\"card-text\">{data.desc}</p>\r\n                          </div>\r\n                      </div>\r\n                      <div className=\"card-footer\">\r\n                      { \r\n                        user.userid == data.user ? (\r\n                          <>                          \r\n                            <button className=\"btn btn-danger\" style={{marginRight:\"20px\"}} onClick={(e) => handleDel(data._id, e)}>DELETE</button>                            \r\n                            <Link to={{\r\n                              pathname:`update/`+data._id,\r\n                              state:{ blogid:data._id}\r\n                            }}>\r\n                              <button className=\"btn btn-danger\" >EDIT</button>\r\n                            </Link>\r\n                          </>\r\n                        ):(<h5>Posted By - {data.username}</h5>)\r\n                      }\r\n                      </div>\r\n                  </div>\r\n                  <br/>                                                         \r\n                </div>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n      </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Blogs"],"mappings":"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"},"metadata":{},"sourceType":"module"}